<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fetches Date from a Public API</title>
</head>

<body>
    <h1>Fetches Date from a Public API</h1>

    <script>

        function fetchDate() {
            console.log("Wait! Date is Fetching");
            
            return new Promise((resolve, reject) => {
                fetch("http://worldtimeapi.org/api/timezone/Asia/Karachi")
                    .then((res) => {
                        if (!res.ok) {
                            reject("Error: Unable to fetch data");
                        }
                        return res.json()
                    }
                    )
                    .then((data) => {
                        let dateTime = data.datetime
                        let date = dateTime.split('T')[0]
                        resolve(date)
                    })
                    .then((error) => {
                        resolve(error)
                    })
            })
        }
        fetchDate()
            .then((date) => {
                console.log(date);
            })
            .catch((error) => {
                console.log(error)
            })
    </script>
</body>

</html>